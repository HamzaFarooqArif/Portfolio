<button (click)="onSpeakButtonClick()">Play</button>
<form [formGroup]="playbackForm">
  <div>
    <button mat-fab>
      <mat-icon>play_circle</mat-icon>
    </button>
    <button mat-fab>
      <mat-icon>pause</mat-icon>
    </button>
    <button mat-fab>
      <mat-icon>play_arrow</mat-icon>
    </button>
    <button mat-fab>
      <mat-icon>stop</mat-icon>
    </button>
    <mat-form-field>
      <mat-label>Starting Row</mat-label>
      <input
        matInput
        type="number"
        class="form-control"
        formControlName="startRow">
      <mat-error *ngIf="playbackForm.get('startRow')?.hasError('required')">
        Required
      </mat-error>
      <mat-error *ngIf="playbackForm.get('startRow')?.hasError('min')">
        Value should be greater than 0
      </mat-error>
      <mat-error *ngIf="playbackForm.get('startRow')?.hasError('max')">
        Value should be less than {{tableData?.length}}
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Ending Row</mat-label>
      <input
        matInput
        type="number"
        class="form-control"
        formControlName="endRow">
      <mat-error *ngIf="playbackForm.get('endRow')?.hasError('required')">
        Required
      </mat-error>
      <mat-error *ngIf="playbackForm.get('endRow')?.hasError('min')">
        Value should be greater than 0
      </mat-error>
      <mat-error *ngIf="playbackForm.get('endRow')?.hasError('max')">
        Value should be less than {{tableData?.length}}
      </mat-error>
    </mat-form-field>
    <div>
      <mat-label>Vocal Speed</mat-label>
      <mat-slider min="0.1" max="2" step="0.1" discrete>
        <input matSliderThumb formControlName="vocalSpeed">
      </mat-slider>
    </div>
    <div>
      <mat-label>In-between Delay</mat-label>
      <mat-slider min="0" max="3" step="0.1" discrete>
        <input matSliderThumb formControlName="inbetweenDelay">
      </mat-slider>
    </div>
    <div>
      <mat-label>Repeat</mat-label>
      <mat-checkbox formControlName="repeat"></mat-checkbox>
    </div>
    <div>
      <mat-label>Reverse</mat-label>
      <mat-checkbox formControlName="reversePlayback"></mat-checkbox>
    </div>
    <div>
      <mat-label>Meaning-to-word</mat-label>
      <mat-checkbox formControlName="reverseSpeechOrder"></mat-checkbox>
    </div>
    <ng-container *ngFor="let _ of [].constructor(numberOfLanguages); let i = index">
      <mat-form-field>
        <mat-label>Select Language for Column {{ i + 1 }}</mat-label>
        <mat-select [id]="'lang' + (i + 1)" [formControlName]="'lang' + (i + 1)" (selectionChange)="refreshVoiceDropdown(i + 1);">
          <mat-option *ngFor="let option of masterLanguages" [value]="option.value">
            {{ option.label }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="playbackForm.get('lang' + (i + 1))?.hasError('required')">
          Required.
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Select Voice for Language {{ i + 1 }}</mat-label>
        <mat-select [id]="'lang' + (i + 1) + 'Voice'" [formControlName]="'lang' + (i + 1) + 'Voice'">
          <mat-option *ngFor="let option of populatedVoicesData[i]" [value]="option.value">
            {{ option.label }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="playbackForm.get('lang' + (i + 1) + 'Voice')?.hasError('required')">
          Required.
        </mat-error>
      </mat-form-field>
    </ng-container>
  </div>
</form>
<div class="table-container">
    <table>
      <thead>
          <tr *ngIf="tableData.length > 0">
            <th>Index</th>
            <th *ngFor="let lang of [].constructor(numberOfLanguages); let i = index">
              {{ tableData[0][i] }}
            </th>
          </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rowItem of tableData | slice: 1; let i = index">
            <td>{{ i + 1 }}</td>
            <td *ngFor="let cellItem of rowItem; let j = index" [ngClass]="{'highlight': isHighlighted(i, j)}">
              {{ cellItem }}
            </td>
        </tr>
      </tbody>
    </table>
  </div>